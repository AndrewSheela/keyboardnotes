<style>
/* ‚úÖ GLOBAL SEARCH RESULTS */
#globalResults{
  margin-top:14px;
  background:#fff;
  border-radius:12px;
  box-shadow:0 6px 16px rgba(0,0,0,0.15);
  max-height:350px;
  overflow-y:auto;
}

.global-item{
  padding:12px;
  border-bottom:1px solid #eee;
}

.global-item:hover{ background:#f9fafb; }

.global-item a{
  font-weight:800;
  color:#4a00e0;
  text-decoration:none;
}

.global-meta{
  font-size:12px;
  color:#555;
  margin-top:4px;
}

/* ‚úÖ HEADER DESIGN */
.top-header{
  display:flex;
  flex-direction:column;
  gap:14px;
  margin-bottom:18px;
  border-bottom:1px solid rgba(0,0,0,0.08);
  padding:14px;
  background:#fff;
}

.brand-row{ text-align:center; }
.site-title{ font-size:26px; font-weight:800; }
.site-subtitle{ font-size:14px; color:#555; margin-top:4px; }

/* ‚úÖ GLOBAL SEARCH BAR */
.search-wrap{
  width:100%;
  max-width:420px;
  margin:10px auto;
}

.search-input{
  width:100%;
  padding:12px 44px 12px 14px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,0.2);
  font-size:14px;
  outline:none;
}

.search-input:focus{
  border-color:#4a00e0;
  box-shadow:0 0 0 2px rgba(74,0,224,0.15);
}

/* ‚úÖ NAV BUTTONS */
.nav-buttons{
  display:grid;
  grid-template-columns: repeat(5, auto);
  justify-content:center;
  gap:12px 14px;
}

.nav-row-2{
  grid-column: 1 / -1;
  display:flex;
  justify-content:center;
  gap:14px;
  flex-wrap:wrap;
}

.nav-btn{
  padding:9px 18px;
  border-radius:999px;
  font-size:14px;
  font-weight:700;
  cursor:pointer;
  color:#fff;
  box-shadow:0 4px 10px rgba(0,0,0,0.22);
  text-decoration:none;
  transition:0.2s;
  opacity:0.88;
}

.nav-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 18px rgba(0,0,0,0.25);
  filter:brightness(1.05);
  opacity:1;
}

.nav-btn.active{
  opacity:1 !important;
  transform:scale(1.1);
  animation:glowPulse 1.5s infinite alternate;
}

@keyframes glowPulse{
  from{ filter:brightness(1); }
  to{ filter:brightness(1.35); }
}

/* ‚úÖ COLORS */
.btn-home{ background:linear-gradient(135deg,#36d1dc,#5b86e5); }
.btn-notes{ background:linear-gradient(135deg,#ff9a9e,#fad0c4); color:#333; }
.btn-chords{ background:linear-gradient(135deg,#f7971e,#ffd200); color:#333; }
.btn-lyrics{ background:linear-gradient(135deg,#ff512f,#dd2476); }
.btn-about{ background:linear-gradient(135deg,#00c6ff,#0072ff); }
.btn-bible{ background:linear-gradient(135deg,#8e2de2,#4a00e0); }
.btn-courses{ background:linear-gradient(135deg,#f7971e,#ff6a00); }
.btn-ppt{ background:linear-gradient(135deg,#ff416c,#ff4b2b); }
</style>

<div class="top-header">

  <!-- ‚úÖ BRAND -->
  <div class="brand-row">
    <div class="site-title">Christian Songs Keyboard Notes</div>
    <div class="site-subtitle">Play With Peace</div>
  </div>

  <!-- ‚úÖ NAVIGATION -->
  <div class="nav-buttons">

    <a class="nav-btn btn-home" href="/index.html">Home</a>
    <a class="nav-btn btn-notes" href="/keyboard-notes/index.html">Keyboard Notes</a>
    <a class="nav-btn btn-chords" href="/chords/index.html">Keyboard Chords</a>
    <a class="nav-btn btn-lyrics" href="/lyrics/index.html">Song Lyrics</a>
    <a class="nav-btn btn-about" href="/about.html">About Us</a>

    <div class="nav-row-2">
      <a class="nav-btn btn-bible" href="/bible/index.html">Bible Study</a>
      <a class="nav-btn btn-courses" href="/courses/index.html">Music Courses</a>
      <a class="nav-btn btn-ppt" href="/ppt-lyrics/index.html">PPT Lyrics</a>
      <a class="nav-btn" style="background:#11998e;" href="/privacy.html">Privacy</a>
      <a class="nav-btn" style="background:#7f00ff;" href="/terms.html">Terms</a>
    </div>
  </div>

  <!-- ‚úÖ GLOBAL SEARCH BELOW BUTTONS -->
  <div class="search-wrap">
    <input
      type="text"
      id="globalSearchInput"
      placeholder="üîç Search Notes ‚Ä¢ Chords ‚Ä¢ Lyrics ‚Ä¢ PPT"
      onkeyup="runGlobalSearch()"
      class="search-input"
    >
  </div>

  <div id="globalResults"></div>

</div>

<!-- ‚úÖ ACTIVE PAGE HIGHLIGHT -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const navLinks = document.querySelectorAll(".nav-btn");
  const currentFile = location.pathname.split("/").pop() || "index.html";

  navLinks.forEach(link => {
    const linkFile = link.getAttribute("href").split("/").pop();
    if (linkFile === currentFile) link.classList.add("active");
  });
});
</script>

<!-- ‚úÖ ‚úÖ ‚úÖ GLOBAL SEARCH ENGINE (FULLY FIXED) -->
<script>
let globalData = [];

/* ‚úÖ ABSOLUTE PATH (WORKS ON ALL PAGES EVEN WHEN HEADER IS LOADED BY fetch) */
const globalPath = "/data/global-search.json";

fetch(globalPath + "?v=" + Date.now())
  .then(res => {
    if (!res.ok) throw new Error("Global JSON not found");
    return res.json();
  })
  .then(data => {
    console.log("‚úÖ GLOBAL SEARCH LOADED:", data);
    globalData = data;
  })
  .catch(err => console.error("‚ùå Global Search JSON error:", err));

function runGlobalSearch(){
  const input = document.getElementById("globalSearchInput").value.toLowerCase().trim();
  const resultBox = document.getElementById("globalResults");
  resultBox.innerHTML = "";

  if (!input) return;

  const results = globalData.filter(item =>
    (item.title || "").toLowerCase().includes(input) ||
    (item.album || "").toLowerCase().includes(input) ||
    (item.artist || "").toLowerCase().includes(input) ||
    (item.language || "").toLowerCase().includes(input)
  );

  if (!results.length){
    resultBox.innerHTML = "<div class='global-item'>‚ùå No results found</div>";
    return;
  }

  results.forEach(item => {
    const div = document.createElement("div");
    div.className = "global-item";

    div.innerHTML = `
      <a href="${item.url}">${item.title}</a>
      <div class="global-meta">
        ${item.type.toUpperCase()} ‚Ä¢ ${item.album} ‚Ä¢ ${item.artist} ‚Ä¢ ${item.language}
      </div>
    `;

    resultBox.appendChild(div);
  });
}
</script>

